apply plugin: 'java'
apply plugin: 'eclipse'
defaultTasks 'clean', 'build'

repositories{
    mavenCentral()
}

dependencies {
        testCompile 'junit:junit:4.11'
}

task startCI(type:Exec) {
	workingDir 'jenkins_files'
	  
		commandLine 'vagrant','up'
	  
		//store the output instead of printing to the console:
		standardOutput = new ByteArrayOutputStream()
	  
		//extension method stopTomcat.output() can be used to obtain the output:
	ext.output = {
	  return standardOutput.toString()
	}
 }

task stopCI(type:Exec) {
	workingDir 'jenkins_files'
	
	commandLine 'vagrant','destroy','--force'
	
	//store the output instead of printing to the console:
	standardOutput = new ByteArrayOutputStream()
	
	//extension method stopTomcat.output() can be used to obtain the output:
	ext.output = {
		return standardOutput.toString()
	}
}
